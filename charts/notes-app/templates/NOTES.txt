Notes App успешно установлен!

Доступ к приложению:
- Frontend: https://{{ .Values.global.domain }}
- API: https://{{ .Values.global.domain }}/api/v1

Проверка состояния:
- Проверить статус подов: kubectl get pods -n {{ .Release.Namespace }}
- Проверить статус сервисов: kubectl get svc -n {{ .Release.Namespace }}
- Проверить статус ingress: kubectl get ingress -n {{ .Release.Namespace }}

Для доступа к Grafana (если включен мониторинг):
- kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "notes-app.fullname" . }}-grafana 300:80
- Затем откройте http://localhost:3000

Для доступа к Kibana (если включен логинг):
- kubectl port-forward -n {{ .Release.Namespace }} svc/kibana-svc 5601:5601
- Затем откройте http://localhost:5601

Устранение неполадок:
- Если возникает ошибка при обновлении StatefulSet PostgreSQL ("UPGRADE FAILED: cannot patch"), используйте безопасный скрипт обновления:
  ./scripts/helm-upgrade-safe.sh <release-name> charts/notes-app <namespace>

- При необходимости ручного удаления StatefulSet PostgreSQL (только если данные не важны или сделана резервная копия):
  kubectl delete statefulset <release-name>-postgresql -n <namespace> --cascade=false
  Затем повторите команду helm upgrade

- Для проверки текущего состояния StatefulSet:
  kubectl describe statefulset <release-name>-postgresql -n <namespace>